<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout :: layout(~{::title}, ~{::section})">
<head>
  <title>Análise IA</title>
</head>
<body>
<section>
  <h1>IA de ajuda geral sobre EPI's</h1>

  <form th:action="@{/ai/analyze}" method="post" class="card">
    <div class="form-group">
      <label for="prompt">Descreva a situacao ou cole um texto</label>
      <textarea id="prompt"
                name="prompt"
                rows="5"
                th:text="${prompt}"
                placeholder="Ex: Operador está sem luvas na área de corte, próximo à serra..."></textarea>
    </div>

    <div class="form-actions" style="margin-top: 1rem;">
      <button type="submit" class="btn btn-primary">Analisar</button>
    </div>
  </form>

  <section class="card" th:if="${result}" style="margin-top: 2rem;">
    <h2>Resultado da IA</h2>
    <pre th:text="${result}" style="white-space: pre-wrap;"></pre>
  </section>
</section>
</body>
</html>
